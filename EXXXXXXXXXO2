import random


maxwin: int = 3
PFC: str = ("pierre", "feuille", "ciseaux")
IAnum: int = random.randint(1, 3)

def Ask_choice_restrict() -> str:
    while True:

        PFC: str = input("Choisissez entre pierre, feuille et ciseaux : ")
        if PFC == str("pierre"):
            return PFC
        elif PFC == str("feuille"):
            return PFC
        elif PFC == str ("ciseaux"):
            return PFC
        else:
            print("Ce choix ne correspond pas à ce qui a été demander :/ Veuillez recommencer. ")

def ChoiceIA() -> int:
    IAnum: int = random.randint(1, 3)
    if IAnum == 1:
        print("pierre")
        return IAnum
    elif IAnum == 2:
        print("feuille")
        return IAnum
    elif IAnum == 3:
        print("cizeaux")
        return IAnum

def convers_Choice_in_Num(Choice) -> int:
    while True:
        if Choice == "pierre":
            numPlayer: int = 1
            return numPlayer
        elif Choice == "feuille":
            numPlayer: int = 2
            return numPlayer
        elif Choice == "ciseaux":
            numPlayer: int = 3
            return numPlayer

def win(numPlayer, IAnum) -> int:
    winIA: int=0
    winPlayer: int=0
    if numPlayer == IAnum:
        print("égalité")
        return win

    elif numPlayer == 1 and IAnum == 2:
        winIA = winIA+1
        print("perdu")
        return win

    elif numPlayer == 1 and IAnum == 3:
        winPlayer = winPlayer+1
        print("gagné")
        return win

    elif numPlayer == 2 and IAnum == 1:
        winPlayer = winPlayer+1
        print("gagné")
        return win

    elif numPlayer == 2 and IAnum == 3:
        winIA = winIA
        print("perdu")
        return win

def Launch_Game():

    IsPlayingGame: bool = True
    isBeginning: bool = False

    while IsPlayingGame:

        if isBeginning == False:
            round: int = 1
            winPlayer: int = 0
            winIA: int = 0
            isBeginning = False

            while winPlayer < maxwin and winIA < maxwin:

                print(f"Manche win joueur : {winPlayer}    Manche win IA : {winIA}")
                print(f"Round {round} :")

                str_player: str = Ask_choice_restrict()
                numPlayer: int = convers_Choice_in_Num(str_player)
                numIA: int = ChoiceIA()
                win(numPlayer, numIA)

                round = round + 1

                return Launch_Game()

Launch_Game()
