import random
from _ast import Break

maxwin: int = 3
PFC: str = ("pierre" or "feuille" or "ciseaux")
IAnum: int = random.randint(1, 3)

def Ask_choice_restrict() -> str:
    while True:

        PFC: str = input("Choisissez entre pierre, feuille et ciseaux : ")
        if PFC == str("pierre"):
            return "pierre"
        elif PFC == str("feuille"):
            return "feuille"
        elif PFC == str ("ciseaux"):
            return "ciseaux"
        else:
            print("Ce choix ne correspond pas à ce qui a été demander :/ Veuillez recommencer. ")

def ChoiceIA() -> int:
    IAnum: int = random.randint(1, 3)
    if IAnum == 1:
        print("pierre")
        return IAnum
    elif IAnum == 2:
        print("feuille")
        return IAnum
    elif IAnum == 3:
        print("ciseaux")
        return IAnum


def convers_Choice_in_Num(Choice) -> int:
    while True:
        if Choice == "pierre":
            numPlayer: int = 1
            return numPlayer
        elif Choice == "feuille":
            numPlayer: int = 2
            return numPlayer
        elif Choice == "ciseaux":
            numPlayer: int = 3
            return numPlayer
        else:
            print("Ce choix ne correspond pas à ce qui a été demander :/ Veuillez recommencer. ")

def getResult(numPlayer, IAnum):
    if numPlayer == IAnum:
        print("égalité")

    elif numPlayer == 1 and IAnum == 2:
        print("perdu")

    elif numPlayer == 1 and IAnum == 3:
        print("gagné")

    elif numPlayer == 2 and IAnum == 1:
        print("gagné")

    elif numPlayer == 2 and IAnum == 3:
        print("perdu")

def Endgame()->bool:
    End: str= input("Voulez-vous rejouer ? y/n : ")
    if End == str("y"):
        Endgame = False
        return End
    elif End == str("n"):
        Endgame = True
        return End

def Launch_Game() -> bool:
    print("Jeux du ->"
          "\n------------------------------------------------\n"
          "Pierre Feuille Ciseaux\n------------------------------------------------")

    IsPlayingGame: bool = True
    isBeginning: bool = False

    while IsPlayingGame:

        round: int = 1
        winPlayer: int = 0
        winIA: int = 0

        while winPlayer < maxwin or winIA < maxwin:

            print(f"Manche win joueur : {winPlayer}    Manche win IA : {winIA}")
            print(f"Round {round} :")

            str_player: str = Ask_choice_restrict()
            numPlayer: int = convers_Choice_in_Num(str_player)
            numIA: int = ChoiceIA()
            win(numPlayer, numIA)
            round = round + 1

            Endgame()

            while winPlayer == maxwin or winIA == maxwin :
                return IsPlayingGame
                if Endgame == True :
                    isBeginning = False
                    Launch_Game = False
                    return Endgame()

Launch_Game()
